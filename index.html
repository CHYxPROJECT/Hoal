<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nana Panel ðŸ¦…</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root{--brand:#2563eb;--error:#ef4444;--glass:rgba(17,24,39,0.85);--red:#fff;--blue:#000;--dark-gray:#1c1c1c;--light-gray:#333;--black:#0a0a0a}
        body{margin:0;background:#000;color:#fff;font-family:Poppins,sans-serif;overflow-x:hidden;min-height:100vh;width:100vw}
        .bg-image{position:fixed;top:0;left:0;width:100%;height:100%;background-image:url(https://files.catbox.moe/01tusr.jpg);background-size:cover;background-position:center;filter:brightness(.4) blur(3px);z-index:-1}
        #gate-container{display:flex;justify-content:center;align-items:center;height:100vh}
        .hidden{display:none!important}
        .gate-card{background:var(--glass);padding:30px;border-radius:25px;text-align:center;border:1px solid rgba(255,255,255,.1);width:90%;max-width:360px;backdrop-filter:blur(10px);box-shadow:0 20px 50px rgba(0,0,0,.5)}
        .banner-video{width:100%;height:150px;border-radius:15px;object-fit:cover;margin-bottom:20px;border:1px solid rgba(255,255,255,.2)}
        h2,h3{font-family:Orbitron;letter-spacing:2px;text-align:center}
        h2{font-size:22px;margin-bottom:15px;text-shadow:0 0 10px var(--brand);color:var(--brand)}
        input,select{width:100%;padding:14px;margin:8px 0;border-radius:12px;border:1px solid #444;background:rgba(0,0,0,.6);color:#fff;box-sizing:border-box;outline:none;transition:.3s}
        .btn-blue{width:100%;padding:15px;border-radius:12px;border:none;background:linear-gradient(45deg,var(--brand),#1d4ed8);color:#fff;font-family:Orbitron;font-weight:700;cursor:pointer;margin-top:15px;transition:.3s}
        
        /* Dashboard Content Style */
        .dash-content{background:var(--dark-gray);padding:20px;border-radius:40px;box-shadow:0 0 25px #fff;max-width:320px;margin:50px auto;text-align:center;position:relative}
        .info-box{background:rgba(0,0,0,.3);border:1px solid #fff;border-radius:12px;padding:15px;font-size:14px;text-align:left;margin:20px 0}
        .success-msg{color:#00ff85;text-shadow:0 0 10px #00ff85}
    </style>
</head>
<body>
    <div class="bg-image"></div>

    <div id="gate-container">
        <div class="gate-card">
            <video class="banner-video" autoplay loop muted playsinline>
                <source src="https://files.catbox.moe/ad3vb2.mp4" type="video/mp4">
            </video>
            <h2>NANA PANEL</h2>
            <input type="text" id="u-gate" placeholder="Username">
            <input type="password" id="p-gate" placeholder="Password">
            <button class="btn-blue" onclick="kirimIzin()">MINTA AKSES</button>
            <p id="msg" style="font-size:12px;color:#3b82f6;margin-top:10px;font-weight:500"></p>
        </div>
    </div>

    <div id="dashboard-container" class="hidden">
        <div class="dash-content">
            <img src="https://files.catbox.moe/ijttf2.png" style="width:150px; margin-bottom:10px;">
            <h3>Reseller Panel</h3>
            <p>by Nana</p>
            
            <div id="panel-step1">
                <input type="text" id="p-user" placeholder="Username Panel">
                <select id="p-ram">
                    <option value="1gb">1GB</option>
                    <option value="5gb">5GB</option>
                    <option value="unli">Unlimited</option>
                </select>
                <button class="btn-blue" onclick="buatPanel()">BUAT PANEL SEKARANG</button>
            </div>

            <div id="panel-step2" class="hidden">
                <h3 class="success-msg">âœ… Berhasil!</h3>
                <div class="info-box" id="result-info"></div>
                <button class="btn-blue" onclick="location.reload()">LOGOUT</button>
            </div>
        </div>
    </div>

    <script>
        // API & Config
        const botToken = "8327717293:AAGry1qleGoj7YVfSFar7rXkvxGsQMATr9M";
        const chatId = "6372201969";

        // 1. Fungsi Minta Akses (Telegram)
        async function kirimIzin(){
            const u = document.getElementById('u-gate').value;
            const p = document.getElementById('p-gate').value;
            if(!u || p.length < 6) return alert("Isi data dengan benar!");

            document.getElementById('msg').innerText = "ðŸ“¡ Mengirim permintaan...";
            
            try {
                await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent("ðŸ¦… AKSES BARU\nUser: "+u+"\nPass: "+p+"\n\nKetik: /acc "+u)}`);
                document.getElementById('msg').innerText = "âŒ› Menunggu ACC Nana...";

                const cek = setInterval(async () => {
                    const res = await fetch(`https://api.telegram.org/bot${botToken}/getUpdates?offset=-1`);
                    const data = await res.json();
                    if(data.result?.length > 0){
                        if(data.result[0].message.text === `/acc ${u}`){
                            clearInterval(cek);
                            showDashboard();
                        }
                    }
                }, 3000);
            } catch(e) { alert("Gagal koneksi!"); }
        }

        // 2. Fungsi Pindah ke Dashboard
        function showDashboard(){
            document.getElementById('gate-container').classList.add('hidden');
            document.getElementById('dashboard-container').classList.remove('hidden');
            alert("Akses Diterima! Selamat datang.");
        }

        // 3. Fungsi Buat Panel (API Pterodactyl)
        async function buatPanel(){
            const user = document.getElementById('p-user').value;
            const ram = document.getElementById('p-ram').value;
            if(!user) return alert("Isi username panel!");

            alert("Sedang memproses panel...");
            
            try {
                const res = await fetch(`https://api.resellergaming.my.id/pterodactyl/addpanel?domain=https://panel.wazzzzzzzzzzzz.cyberpanel.web.id&plta=ptla_Sq10n7OjpTYpNXducWOWrFCaHnwBDaUgbD6RXb6oiHD&username=${user}&disk=5000&cpu=100`);
                const data = await res.json();

                if(data.user){
                    document.getElementById('panel-step1').classList.add('hidden');
                    document.getElementById('panel-step2').classList.remove('hidden');
                    document.getElementById('result-info').innerHTML = `
                        <p><b>User:</b> ${data.user.attributes.username}</p>
                        <p><b>Pass:</b> ${data.user.attributes.username}</p>
                        <p><b>RAM:</b> ${ram.toUpperCase()}</p>
                    `;
                }
            } catch(e) { alert("Gagal membuat panel."); }
        }
    </script>
</body>
</html>
